<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Adjustment for missing reporting periods — hiv_prv_ipcw • ANCRTAdjust</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Adjustment for missing reporting periods — hiv_prv_ipcw" />

<meta property="og:description" content="Adjusts HIV prevalence and HIV testing coverage from ANC-RT data for missing data due to facilities missing reporting periods. 
This function has been developed to adjust HIV prevalence and HIV testing coverage from ANC-RT data for missing reporting periods within a facility.
Inverse probability of censoring weighting is used to account for the missing reporting periods. The weights are 
calculated conditional on the facility. The adjustment is only made for missing reporting periods in between the first and last 
reported period in a facility to avoid adjusting for periods when the facility may have been inoperational. Specifically, the weights are calculated as followed:
$$ w = \frac{1}{P(\text{Not being censored } | \text{ facility})}$$
The adjusted HIV prevalence and HIV testing coverage can be reported stratified by reporting period, year and/or subnational unit 1, according to user inputs." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ANCRTAdjust</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/brittanyblouin/ANCRTAdjust">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Adjustment for missing reporting periods</h1>
    <small class="dont-index">Source: <a href='https://github.com/brittanyblouin/ANCRTAdjust/blob/master/R/hiv_prv_ipcw.R'><code>R/hiv_prv_ipcw.R</code></a></small>
    <div class="hidden name"><code>hiv_prv_ipcw.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Adjusts HIV prevalence and HIV testing coverage from ANC-RT data for missing data due to facilities missing reporting periods. 
This function has been developed to adjust HIV prevalence and HIV testing coverage from ANC-RT data for missing reporting periods within a facility.
Inverse probability of censoring weighting is used to account for the missing reporting periods. The weights are 
calculated conditional on the facility. The adjustment is only made for missing reporting periods in between the first and last 
reported period in a facility to avoid adjusting for periods when the facility may have been inoperational. Specifically, the weights are calculated as followed:
$$ w = \frac{1}{P(\text{Not being censored } | \text{ facility})}$$
The adjusted HIV prevalence and HIV testing coverage can be reported stratified by reporting period, year and/or subnational unit 1, according to user inputs.</p>
    
    </div>

    <pre class="usage"><span class='fu'>hiv_prv_ipcw</span>(<span class='no'>data</span>, <span class='kw'>by_period</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>by_snu1</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>by_year</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>The ANC-RT dataset.  The functions <a href='check_data.html'>check_data</a>, <a href='data_clean.html'>data_clean</a> and <a href='mt_adjust.html'>mt_adjust</a> should have been run on the data to properly
prepare the data for use here.  The dataset must have the following variables:</p><ul>
<li><p><code>faciluid</code>: Facility ID.</p></li>
<li><p><code>time</code>: The time period over which the data was collected.</p></li>
<li><p><code>n_clients</code>: The number of women from the specified facility, during the specified time period, that attended their first ANC visit.</p></li>
<li><p><code>n_status</code>:  The number of women from the specified facility, during the specified time period, that had their HIV status ascertained at their first ANC visit, either by testing or through previous knowledge.</p></li>
<li><p><code>testpos</code>: The number of women from the specified facility, during the specified time period, that tested positive for HIV at their first ANC visit.</p></li>
<li><p><code>knownpos</code>: The number of women from the specified facility, during the specified time period, that already knew that they were HIV-positive at their first ANC visit.</p></li>
<li><p><code>testneg</code>: The number of women from the specified facility, during the specified time period, that tested negative for HIV at their first ANC visit.</p></li>
<li><p><code>totpos</code>: Total number of positive HIV cases.</p></li>
<li><p><code>totpos_c</code>: Cleaned <code>totpos</code> (generated using the <a href='data_clean.html'>data_clean</a> and <a href='mt_adjust.html'>mt_adjust</a> functions).</p></li>
<li><p><code>n_status_c</code>: Cleaned <code>n_status</code> (generated using the <a href='data_clean.html'>data_clean</a> and <a href='mt_adjust.html'>mt_adjust</a> functions).</p></li>
<li><p><code>snu1</code>: The subnational unit 1 (only required if results are to be stratified by snu1).</p></li>
<li><p><code>Year</code>: The year that the data was collected (only required if results are to be stratified by year).</p></li>
</ul></td>
    </tr>
    <tr>
      <th>by_period</th>
      <td><p>TRUE indicates that the results be stratified by reporting period.  FALSE indicates that the results not be stratified.</p></td>
    </tr>
    <tr>
      <th>by_snu1</th>
      <td><p>TRUE indicates that the results be stratified by snu1.  FALSE indicates that the results not be stratified.</p></td>
    </tr>
    <tr>
      <th>by_year</th>
      <td><p>TRUE indicates that the results be stratified by year.  FALSE indicates that the results not be stratified.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A table (in dataframe format) indicating the results, stratified according to user inputs.  The results table includes the following columns:</p><ul>
<li><p><code>snu1</code> (only if results were stratified by snu1): The subnational unit 1.</p></li>
<li><p><code>time</code> (only if results were stratified by period and/or year): The time period.  When results are stratified by year and reporting period, the digits "99" are suffixed to the year 
  (i.e. "201599" refers to the yearly result for 2015).</p></li>
<li><p><code>hiv_prv</code>: The HIV prevalence adjusted for missing reporting periods and all previous adjustments (i.e. data cleaning and adjustment for multiple testing, if performed).</p></li>
<li><p><code>hiv_cov</code>: The HIV testing coverage adjusted for missing reporting periods and all previous adjustments (i.e. data cleaning and adjustment for multiple testing, if performed).</p></li>
</ul>

    

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>
          </ul>

    <h2>Author</h2>
    <p>Mathieu Maheu-Giroux</p>
<p>Brittany Blouin</p>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Mathieu Maheu-Giroux, Brittany Blouin.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


