<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Clean ANC-RT Data — data_clean • ANCRTAdjust</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Clean ANC-RT Data — data_clean" />

<meta property="og:description" content="Cleans ANC-RT data so that it can be used with other functions in the ANCRTAdjust package." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ANCRTAdjust</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/brittanyblouin/ANCRTAdjust">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Clean ANC-RT Data</h1>
    <small class="dont-index">Source: <a href='https://github.com/brittanyblouin/ANCRTAdjust/blob/master/R/data_clean.R'><code>R/data_clean.R</code></a></small>
    <div class="hidden name"><code>data_clean.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Cleans ANC-RT data so that it can be used with other functions in the <code>ANCRTAdjust</code> package.</p>
    
    </div>

    <pre class="usage"><span class='fu'>data_clean</span>(<span class='no'>data</span>, <span class='kw'>total_age_cat</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>A country-specific ANC-RT database. The function <a href='check_data.html'>check_data</a> should have been run on the data to properly
prepare the data for use here.
The following variables (with these variable names) must be included in <code>data</code>:</p><ul>
<li><p><code>time</code>: The time period that the data was collected.</p></li>
<li><p><code>faciluid</code>:  The unique facility identifier.</p></li>
<li><p><code>n_clients</code>: The number of women from the specified facility, during the specified time period, that attended their first ANC visit.</p></li>
<li><p><code>n_status</code>:  The number of women from the specified facility, during the specified time period, that had their HIV status ascertained at their first ANC visit, either by testing or through previous knowledge.</p></li>
<li><p><code>testpos</code>: The number of women from the specified facility, during the specified time period, that tested positive for HIV at their first ANC visit.</p></li>
<li><p><code>knownpos</code>: The number of women from the specified facility, during the specified time period, that already knew that they were HIV-positive at their first ANC visit.</p></li>
<li><p><code>testneg</code>: The number of women from the specified facility, during the specified time period, that tested negative for HIV at their first ANC visit.</p></li>
<li><p><code>totpos</code>: The number of women from the specific facility, during the specified time period, that were HIV-positive at their first ANC visit.</p></li>
<li><p><code>age</code>: Age category of pregnant women (optional).</p></li>
</ul></td>
    </tr>
    <tr>
      <th>total_age_cat</th>
      <td><p>The value of the <code>age</code> variable indicating all age categories combined (only necessary if age disaggregated data is included).</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A cleaned ANC-RT database with additional variables:</p><ul>
<li><p><code>testneg_c</code>: Cleaned <code>testneg</code> (according to description)</p></li>
<li><p><code>testpos_c</code>: Cleaned <code>testpos</code> (according to description)</p></li>
<li><p><code>knownpos_c</code>: Cleaned <code>knownpos</code> (according to description)</p></li>
<li><p><code>n_status_c</code>: Cleaned <code>n_status</code> (according to description)</p></li>
<li><p><code>n_status_c_impute</code>:  Adjusted <code>n_status_c</code> using the impute adjustment option for multiple testing</p></li>
<li><p><code>n_status_c_remove</code>:  Adjusted <code>n_status_c</code> using the remove adjustment option for multiple testing</p></li>
<li><p><code>n_status_c_setmax</code>:  Adjusted <code>n_status_c</code> using the set to maximum adjustment option for multiple testing</p></li>
<li><p><code>totpos_c</code>: Cleaned <code>totpos</code> (according to description)</p></li>
<li><p><code>totpos_c_impute</code>: Adjusted <code>totpos_c</code> if the impute adjustment option for multiple testing is used</p></li>
<li><p><code>totpos_c_remove</code>: Adjusted <code>totpos_c</code> if the remove adjustment option for multiple testing is used</p></li>
<li><p><code>totpos_c_setmax</code>: Adjusted <code>totpos_c</code> if the set to maximum adjustment option for multiple testing is used</p></li>
</ul>

    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function has been developed to clean common issues associated with ANC-RT data. The following tasks
are accomplished:</p><ul>
<li><p>Age disaggregated data is removed (if applicable).</p></li>
<li><p><code>testneg_c</code> is set to <code>n_status</code> - <code>knownpos</code> - <code>testpos</code> or <code>n_status</code> - <code>totpos</code> if <code>testneg</code> is missing.  <code>testneg_c</code> is set to 0 if negative.</p></li>
<li><p><code>knownpos_c</code> is set to <code>n_status</code> - <code>testneg_c</code> - <code>testpos</code> or <code>totpos</code> - <code>testpos</code> if <code>knownpos</code> is missing.  <code>knownpos_c</code> is set to 0 if negative.</p></li>
<li><p><code>testpos_c</code> is set to <code>n_status</code> - <code>testneg_c</code> - <code>knownpos_c</code> or <code>totpos</code> - <code>knownpos</code> if <code>testpos</code> is missing.  <code>testpos_c</code> is set to 0 if negative.</p></li>
<li><p><code>n_status_c</code> is set to <code>testpos_c</code> + <code>testneg_c</code> + <code>knownpos_c</code> when all of these variables are available.  If either of the three variables is
   missing, <code>n_status_c</code> = <code>n_status</code>.</p></li>
<li><p><code>totpos_c</code> is set to <code>knownpos_c</code> + <code>testpos_c</code> if both of these variables are available. If either <code>testpos_c</code> or <code>knownpos_c</code> are 
   missing but <code>totpos</code> is available, <code>totpos_c</code> is set to <code>totpos</code>.  If <code>totpos_c</code> is missing but <code>n_status_c</code> and <code>testneg_c</code> are available, <code>totpos_c</code> = <code>n_status_c</code> - <code>testneg_c</code>.</p></li>
<li><p>The three suggested <code>n_status_c</code> adjustments are created in the case that <code>n_status_c</code> &gt; <code>n_clients</code>:</p><ul>
<li><p><code>n_status_c_impute</code> uses the impute adjustment option</p></li>
<li><p><code>n_status_c_remove</code> uses the remove adjustment option</p></li>
<li><p><code>n_status_c_setmax</code> uses the set to maximum adjustment option</p></li>
</ul></li>
<li><p><code>totpos_c</code> is adjusted if <code>totpos_c</code> &gt; <code>n_status_c</code>:</p><ul>
<li><p><code>totpos_c</code>: <code>totpos_c</code> is set to missing when <code>totpos_c</code> &gt; <code>n_status_c</code></p></li>
<li><p><code>totpos_c_impute</code>: <code>totpos_c</code> is set to missing when <code>totpos_c</code> &gt; <code>n_status_c_impute</code></p></li>
<li><p><code>totpos_c_remove</code>: <code>totpos_c</code> is set to missing when <code>totpos_c</code> &gt; <code>n_status_c_remove</code></p></li>
<li><p><code>totpos_c_setmax</code>: <code>totpos_c</code> is set to missing when <code>totpos_c</code> &gt; <code>n_status_c_setmax</code></p></li>
</ul></li>
<li><p>The data is checked for duplicates (i.e. more than one observation exists with the same <code>faciluid</code> and <code>time</code>).</p></li>
</ul>

    

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
          </ul>

    <h2>Author</h2>
    <p>Mathieu Maheu-Giroux</p>
<p>Brittany Blouin</p>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Mathieu Maheu-Giroux, Brittany Blouin.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


